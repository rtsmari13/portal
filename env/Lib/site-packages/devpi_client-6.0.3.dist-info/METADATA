Metadata-Version: 2.1
Name: devpi-client
Version: 6.0.3
Summary: devpi upload/install/... workflow commands for Python developers
Home-page: https://devpi.net
Maintainer: Florian Schulze
Maintainer-email: mail@pyfidelity.com
License: MIT
Project-URL: Bug Tracker, https://github.com/devpi/devpi/issues
Project-URL: Changelog, https://github.com/devpi/devpi/blob/main/client/CHANGELOG
Project-URL: Documentation, https://doc.devpi.net
Project-URL: Source Code, https://github.com/devpi/devpi
Classifier: Development Status :: 5 - Production/Stable
Classifier: Environment :: Web Environment
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: Implementation :: PyPy
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3.4
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Requires-Python: >=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*
License-File: LICENSE
License-File: AUTHORS
Requires-Dist: build
Requires-Dist: check-manifest (>=0.28)
Requires-Dist: devpi-common (<4,>=3.6.0)
Requires-Dist: iniconfig
Requires-Dist: pep517
Requires-Dist: pkginfo (>=1.4.2)
Requires-Dist: platformdirs
Requires-Dist: pluggy (<2.0,>=0.6.0)
Requires-Dist: py (>=1.4.31)

===============================================================
devpi-client: manage devpi-server, Python packaging and testing
===============================================================

The ``devpi`` command line tool is typically used in conjunction
with `devpi-server <https://pypi.org/project/devpi-server/>`_.
It allows to upload, test and install packages from devpi indexes.

See https://doc.devpi.net for quickstart and more documentation.

Support
=======

If you find a bug, use the `issue tracker at Github`_.

For general questions use `GitHub Discussions`_ or the `devpi-dev@python.org mailing list`_.

For support contracts and paid help contact ``mail at pyfidelity.com``.

.. _issue tracker at Github: https://github.com/devpi/devpi/issues/
.. _devpi-dev@python.org mailing list: https://mail.python.org/mailman3/lists/devpi-dev.python.org/
.. _GitHub Discussions: https://github.com/devpi/devpi/discussions


=========
Changelog
=========



.. towncrier release notes start

6.0.3 (2023-02-20)
==================

Bug Fixes
---------

- Fix #919: Retry 3 times and wait a moment on PermissionError during file removal to fix race condition after running tox.

- Restore ability to build docs if project uses separate build and source directories for documentation.

- Fix for changes in pypitoken 6.x.


6.0.2 (2022-09-28)
==================

Bug Fixes
---------

- Better error message when trying to use ``devpi index`` which requires authentication (devpi-lockdown).


6.0.1 (2022-08-16)
==================

Bug Fixes
---------

- fix #913: ``main.Hub.workdir`` cleanup (exit) can now handle read-only files (like those created by git).

- Print info when ``DEVPI_INDEX`` environment variable is in use and allow relative index specification for it.


6.0.0 (2022-07-19)
==================

Deprecations and Removals
-------------------------

- Removed support for ``--detox`` option.

- When uploading we no longer "register" the package first. That requirement was removed from PyPI and devpi-server for some time.

- Use ``sphinx-build`` command instead of ``setup.py build_sphinx`` when building documentation.

- Removed tox dependency, instead ``devpi test`` looks for the ``tox`` binary in the path.

- The ``--venv`` option will abort when no virtualenv exists at the location, it will not create a virtualenv anymore.


Features
--------

- Fix #218: use new pip.conf location by default and warn if the legacy location exists.

- Fix #38: add ``--user``/``-u`` option to ``use`` command to limit index listing to a specific user.

- Fix #437: when the ``DEVPI_INDEX`` environment variable is set, it temporarily overwrites the current index.

- Fix #691: allow anonymous uploads if the server has ``acl_upload=:ANONYMOUS:`` set on index.

- Fix #863: allow ``--only-docs`` upload for files containing ``.docs.`` instead of ``.doc.`` and support gzipped tar files.

- The ``--user/-u`` option for ``devpi use`` can be used to switch the current user and the authentication data of previous logins is preserved.

- Use `build <https://pypi.org/project/build/>`_ package when possible and fall back to ``setup.py`` only for deprecated release types.

- When the ``DEVPI_USER`` environment variable is set, it temporarily overwrites the current user name.

- Support query strings on ``path`` for ``getjson`` command. This enables using ``?no_projects=``.

- The ``devpi index -l [username]`` command now actually lists indexes of other users and works without login.

- Fix #443 and #444: pass authentication info to pip via environment variable for ``devpi install`` and ``devpi test``.

- When pushing to an external index with ``pypi:...``, a PyPI token is detected and ``pypitoken`` is installed a new unique time limited token is derived for the upload.

- With ``devpi use --local`` a local configuration is created in the currently active virtualenv and automatically used as long as the virtualenv is activated.

- Warn if the server changes the scheme, host or port during ``devpi use``.

- Using ``--list`` or ``--urls`` with ``use`` command and a URL won't change the current index anymore.

- Existing authentication data is validated on ``devpi use`` and removed if expired.


Bug Fixes
---------

- Fix #562: encode username and url in devpiclient_get_password with sys.stdout.encoding.

- Fix #627: support ``--index`` option when no index is currently selected.

- Fix #808: Use mkdtemp from Python tempfile module to prevent permission and locking errors during ``devpi test`` and ``devpi upload``.

- Fix #831: only download matching wheels if ``--select`` is in use.

- Give helpful error message when specified/configured virtualenv is missing.


Other Changes
-------------

- When there is no json error message only the HTML error code and reason is printed now, to get the full HTML output use the ``--debug`` flag.


5.2.3 (2021-11-15)
==================

Bug Fixes
---------

- Bump upper version limit on pluggy to <2.0.

